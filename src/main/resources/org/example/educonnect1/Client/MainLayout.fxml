<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.text.Font?>

<BorderPane fx:id="mainBorderPane" stylesheets="@style.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="org.example.educonnect1.client.controllers.MainLayoutController">
    <!-- TOP NAVIGATION BAR -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="20" styleClass="navbar">
            <padding>
                <Insets bottom="15" left="25" right="25" top="15" />
            </padding>

            <!-- Logo -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label styleClass="logo-icon" text="ðŸŽ“">
                    <font><Font size="28" /></font>
                </Label>
                <Label styleClass="logo" text="EduConnect">
                    <font><Font name="System Bold" size="24" /></font>
                </Label>
            </HBox>


            <!-- Search Bar -->
            <TextField fx:id="searchField" prefWidth="450" promptText="ðŸ” TÃ¬m kiáº¿m báº¡n bÃ¨, bÃ i viáº¿t, nhÃ³m..." styleClass="search-field" onAction="#Search" />

            <!-- Spacer -->
            <Region HBox.hgrow="ALWAYS" />

            <!-- Navigation Buttons -->
            <HBox alignment="CENTER" spacing="8">
                <Button onAction="#onHome" styleClass="nav-btn" text="ðŸ ">
                    <font><Font size="22" /></font>
                </Button>
                <Button onAction="#onFriends" styleClass="nav-btn" text="ðŸ‘¥">
                    <font><Font size="22" /></font>
                </Button>
                <Button onAction="#onGroups" styleClass="nav-btn" text="ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦">
                    <font><Font size="22" /></font>
                </Button>
                <Button onAction="#onMessages" styleClass="nav-btn" text="ðŸ’¬">
                    <font><Font size="22" /></font>
                </Button>
                <Button onAction="#onNotifications" styleClass="nav-btn-notification" text="ðŸ””">
                    <font><Font size="22" /></font>
                </Button>
            </HBox>

            <!-- Profile -->
            <HBox alignment="CENTER_LEFT" onMouseClicked="#onProfile" spacing="12" styleClass="profile-section" style="-fx-cursor: hand;">
                <ImageView fx:id="avatarImage" fitHeight="52.0" fitWidth="48.0" preserveRatio="true" />
                <Label fx:id="lblUserName" styleClass="profile-name">
                    <font><Font name="System Bold" size="13" /></font>
                </Label>
                <Label styleClass="dropdown-icon" text="â–¼" />
            </HBox>
        </HBox>
    </top>

    <!-- MAIN CONTENT AREA -->
    <center>
        <StackPane fx:id="contentPane">

        </StackPane>
    </center>

    <!-- LEFT SIDEBAR -->
    <left>
        <ScrollPane fitToHeight="true" hbarPolicy="NEVER" styleClass="sidebar-scroll" vbarPolicy="AS_NEEDED">
            <VBox prefHeight="1280.0" prefWidth="279.0" spacing="6" styleClass="sidebar">
                <padding>
                    <Insets bottom="15" left="10" right="10" top="15" />
                </padding>

                <Label styleClass="sidebar-title" text="Menu">
                    <padding><Insets bottom="8" left="12" /></padding>
                    <font><Font name="System Bold" size="17" /></font>
                </Label>

                <VBox spacing="2">
                    <HBox alignment="CENTER_LEFT" onMouseClicked="#onProfile" spacing="12" styleClass="sidebar-item-active" style="-fx-cursor: hand;">
                        <padding><Insets bottom="10" left="12" right="12" top="10" /></padding>
                        <Label styleClass="sidebar-icon" text="ðŸ‘¤">
                            <font><Font size="20" /></font>
                        </Label>
                        <Label styleClass="sidebar-text" text="Trang cÃ¡ nhÃ¢n">
                            <font><Font name="System Bold" size="14" /></font>
                        </Label>
                    </HBox>

                    <HBox alignment="CENTER_LEFT" onMouseClicked="#onFriends" spacing="12" styleClass="sidebar-item">
                        <padding><Insets bottom="10" left="12" right="12" top="10" /></padding>
                        <Label styleClass="sidebar-icon" text="ðŸ‘¥">
                            <font><Font size="20" /></font>
                        </Label>
                        <VBox spacing="2">
                            <Label styleClass="sidebar-text" text="Báº¡n bÃ¨">
                                <font><Font name="System Bold" size="14" /></font>
                            </Label>
                            <Label styleClass="sidebar-subtext" text="245 ngÆ°á»i báº¡n">
                                <font><Font size="12" /></font>
                            </Label>
                        </VBox>
                    </HBox>

                    <HBox alignment="CENTER_LEFT" onMouseClicked="#onGroups" spacing="12" styleClass="sidebar-item">
                        <padding><Insets bottom="10" left="12" right="12" top="10" /></padding>
                        <Label styleClass="sidebar-icon" text="ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦">
                            <font><Font size="20" /></font>
                        </Label>
                        <VBox spacing="2">
                            <Label styleClass="sidebar-text" text="NhÃ³m">
                                <font><Font name="System Bold" size="14" /></font>
                            </Label>
                            <Label styleClass="sidebar-subtext" text="12 nhÃ³m">
                                <font><Font size="12" /></font>
                            </Label>
                        </VBox>
                    </HBox>

                    <HBox alignment="CENTER_LEFT" onMouseClicked="#onMessages" spacing="12" styleClass="sidebar-item">
                        <padding><Insets bottom="10" left="12" right="12" top="10" /></padding>
                        <Label styleClass="sidebar-icon" text="ðŸ’¬">
                            <font><Font size="20" /></font>
                        </Label>
                        <VBox spacing="2">
                            <Label styleClass="sidebar-text" text="Tin nháº¯n">
                                <font><Font name="System Bold" size="14" /></font>
                            </Label>
                            <Label styleClass="sidebar-badge" text="5 tin má»›i">
                                <font><Font name="System Bold" size="12" /></font>
                            </Label>
                        </VBox>
                    </HBox>

                    <HBox alignment="CENTER_LEFT" onMouseClicked="#onEvents" spacing="12" styleClass="sidebar-item">
                        <padding><Insets bottom="10" left="12" right="12" top="10" /></padding>
                        <Label styleClass="sidebar-icon" text="ðŸŽ¯">
                            <font><Font size="20" /></font>
                        </Label>
                        <Label styleClass="sidebar-text" text="Sá»± kiá»‡n">
                            <font><Font name="System Bold" size="14" /></font>
                        </Label>
                    </HBox>

                    <HBox alignment="CENTER_LEFT" onMouseClicked="#onLibrary" spacing="12" styleClass="sidebar-item">
                        <padding><Insets bottom="10" left="12" right="12" top="10" /></padding>
                        <Label styleClass="sidebar-icon" text="ðŸ“š">
                            <font><Font size="20" /></font>
                        </Label>
                        <Label styleClass="sidebar-text" text="ThÆ° viá»‡n">
                            <font><Font name="System Bold" size="14" /></font>
                        </Label>
                    </HBox>
                </VBox>

                <Separator styleClass="sidebar-separator">
                    <padding><Insets bottom="10" top="10" /></padding>
                </Separator>

                <Label styleClass="sidebar-title" text="Lá»‘i táº¯t">
                    <padding><Insets bottom="8" left="12" top="5" /></padding>
                    <font><Font name="System Bold" size="17" /></font>
                </Label>

                <VBox spacing="2">
                    <HBox alignment="CENTER_LEFT" spacing="12" styleClass="sidebar-item">
                        <padding><Insets bottom="10" left="12" right="12" top="10" /></padding>
                        <Circle radius="12" styleClass="group-avatar-1" />
                        <Label styleClass="sidebar-text-small" text="Láº­p trÃ¬nh Java">
                            <font><Font name="System Bold" size="13" /></font>
                        </Label>
                    </HBox>

                    <HBox alignment="CENTER_LEFT" spacing="12" styleClass="sidebar-item">
                        <padding><Insets bottom="10" left="12" right="12" top="10" /></padding>
                        <Circle radius="12" styleClass="group-avatar-2" />
                        <Label styleClass="sidebar-text-small" text="AI &amp; Machine Learning">
                            <font><Font name="System Bold" size="13" /></font>
                        </Label>
                    </HBox>
                </VBox>
            </VBox>
        </ScrollPane>
    </left>

    <!-- RIGHT SIDEBAR -->
    <right>
        <ScrollPane fitToHeight="true" hbarPolicy="NEVER" styleClass="sidebar-scroll" vbarPolicy="AS_NEEDED">
            <VBox prefWidth="300" spacing="16" styleClass="right-sidebar">
                <padding>
                    <Insets bottom="20" left="10" right="15" top="20" />
                </padding>

                <!-- Äá» xuáº¥t cho báº¡n -->
                <VBox spacing="14" styleClass="widget">
                    <padding>
                        <Insets bottom="16" left="16" right="16" top="16" />
                    </padding>

                    <Label styleClass="widget-title" text="ðŸ’¡ ÄÆ°á»£c Ä‘á» xuáº¥t cho báº¡n">
                        <font><Font name="System Bold" size="15" /></font>
                    </Label>

                    <VBox spacing="12">
                        <HBox alignment="CENTER_LEFT" spacing="12" styleClass="suggestion-item">
                            <padding><Insets bottom="6" left="6" right="6" top="6" /></padding>
                            <Circle radius="18" styleClass="suggestion-avatar-1" />
                            <VBox spacing="3" HBox.hgrow="ALWAYS">
                                <Label styleClass="suggestion-name" text="KhÃ³a há»c Python">
                                    <font><Font name="System Bold" size="13" /></font>
                                </Label>
                                <Label styleClass="suggestion-info" text="1.2k thÃ nh viÃªn">
                                    <font><Font size="12" /></font>
                                </Label>
                            </VBox>
                            <Button styleClass="follow-btn" text="+">
                                <font><Font name="System Bold" size="16" /></font>
                            </Button>
                        </HBox>

                        <HBox alignment="CENTER_LEFT" spacing="12" styleClass="suggestion-item">
                            <padding><Insets bottom="6" left="6" right="6" top="6" /></padding>
                            <Circle radius="18" styleClass="suggestion-avatar-2" />
                            <VBox spacing="3" HBox.hgrow="ALWAYS">
                                <Label styleClass="suggestion-name" text="Dev Community VN">
                                    <font><Font name="System Bold" size="13" /></font>
                                </Label>
                                <Label styleClass="suggestion-info" text="850 thÃ nh viÃªn">
                                    <font><Font size="12" /></font>
                                </Label>
                            </VBox>
                            <Button styleClass="follow-btn" text="+">
                                <font><Font name="System Bold" size="16" /></font>
                            </Button>
                        </HBox>

                        <HBox alignment="CENTER_LEFT" spacing="12" styleClass="suggestion-item">
                            <padding><Insets bottom="6" left="6" right="6" top="6" /></padding>
                            <Circle radius="18" styleClass="suggestion-avatar-3" />
                            <VBox spacing="3" HBox.hgrow="ALWAYS">
                                <Label styleClass="suggestion-name" text="Web Development">
                                    <font><Font name="System Bold" size="13" /></font>
                                </Label>
                                <Label styleClass="suggestion-info" text="2.5k thÃ nh viÃªn">
                                    <font><Font size="12" /></font>
                                </Label>
                            </VBox>
                            <Button styleClass="follow-btn" text="+">
                                <font><Font name="System Bold" size="16" /></font>
                            </Button>
                        </HBox>
                    </VBox>
                </VBox>

                <!-- NgÆ°á»i Ä‘ang hoáº¡t Ä‘á»™ng -->
                <VBox spacing="14" styleClass="widget">
                    <padding>
                        <Insets bottom="16" left="16" right="16" top="16" />
                    </padding>

                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <Label styleClass="widget-title" text="ðŸŸ¢ Äang hoáº¡t Ä‘á»™ng">
                            <font><Font name="System Bold" size="15" /></font>
                        </Label>
                        <Label styleClass="online-count" text="(8)">
                            <font><Font size="13" /></font>
                        </Label>
                    </HBox>

                    <VBox spacing="10">
                        <HBox alignment="CENTER_LEFT" onMouseClicked="#onProfile" spacing="12" styleClass="friend-item" style="-fx-cursor: hand;">
                            <padding><Insets bottom="6" left="6" right="6" top="6" /></padding>
                            <StackPane>
                                <Circle radius="18" styleClass="friend-avatar-1" />
                                <Circle radius="5" styleClass="online-indicator" translateX="-1" translateY="-1" StackPane.alignment="BOTTOM_RIGHT" />
                            </StackPane>
                            <VBox spacing="2" HBox.hgrow="ALWAYS">
                                <Label styleClass="friend-name" text="Minh Anh">
                                    <font><Font name="System Bold" size="13" /></font>
                                </Label>
                                <Label styleClass="friend-status" text="Äang hoáº¡t Ä‘á»™ng">
                                    <font><Font size="11" /></font>
                                </Label>
                            </VBox>
                        </HBox>

                        <HBox alignment="CENTER_LEFT" spacing="12" styleClass="friend-item">
                            <padding><Insets bottom="6" left="6" right="6" top="6" /></padding>
                            <StackPane>
                                <Circle radius="18" styleClass="friend-avatar-2" />
                                <Circle radius="5" styleClass="online-indicator" translateX="-1" translateY="-1" StackPane.alignment="BOTTOM_RIGHT" />
                            </StackPane>
                            <VBox spacing="2" HBox.hgrow="ALWAYS">
                                <Label styleClass="friend-name" text="Thu HÃ ">
                                    <font><Font name="System Bold" size="13" /></font>
                                </Label>
                                <Label styleClass="friend-status" text="Äang hoáº¡t Ä‘á»™ng">
                                    <font><Font size="11" /></font>
                                </Label>
                            </VBox>
                        </HBox>

                        <HBox alignment="CENTER_LEFT" spacing="12" styleClass="friend-item">
                            <padding><Insets bottom="6" left="6" right="6" top="6" /></padding>
                            <StackPane>
                                <Circle radius="18" styleClass="friend-avatar-3" />
                                <Circle radius="5" styleClass="online-indicator" translateX="-1" translateY="-1" StackPane.alignment="BOTTOM_RIGHT" />
                            </StackPane>
                            <VBox spacing="2" HBox.hgrow="ALWAYS">
                                <Label styleClass="friend-name" text="Äá»©c Anh">
                                    <font><Font name="System Bold" size="13" /></font>
                                </Label>
                                <Label styleClass="friend-status" text="Äang hoáº¡t Ä‘á»™ng">
                                    <font><Font size="11" /></font>
                                </Label>
                            </VBox>
                        </HBox>

                        <HBox alignment="CENTER_LEFT" spacing="12" styleClass="friend-item">
                            <padding><Insets bottom="6" left="6" right="6" top="6" /></padding>
                            <StackPane>
                                <Circle radius="18" styleClass="friend-avatar-4" />
                                <Circle radius="5" styleClass="online-indicator" translateX="-1" translateY="-1" StackPane.alignment="BOTTOM_RIGHT" />
                            </StackPane>
                            <VBox spacing="2" HBox.hgrow="ALWAYS">
                                <Label styleClass="friend-name" text="Lan PhÆ°Æ¡ng">
                                    <font><Font name="System Bold" size="13" /></font>
                                </Label>
                                <Label styleClass="friend-status" text="Äang hoáº¡t Ä‘á»™ng">
                                    <font><Font size="11" /></font>
                                </Label>
                            </VBox>
                        </HBox>

                        <HBox alignment="CENTER_LEFT" spacing="12" styleClass="friend-item">
                            <padding><Insets bottom="6" left="6" right="6" top="6" /></padding>
                            <StackPane>
                                <Circle radius="18" styleClass="friend-avatar-5" />
                                <Circle radius="5" styleClass="online-indicator" translateX="-1" translateY="-1" StackPane.alignment="BOTTOM_RIGHT" />
                            </StackPane>
                            <VBox spacing="2" HBox.hgrow="ALWAYS">
                                <Label styleClass="friend-name" text="Quang Huy">
                                    <font><Font name="System Bold" size="13" /></font>
                                </Label>
                                <Label styleClass="friend-status" text="Äang hoáº¡t Ä‘á»™ng">
                                    <font><Font size="11" /></font>
                                </Label>
                            </VBox>
                        </HBox>
                    </VBox>
                </VBox>

                <!-- Sá»± kiá»‡n sáº¯p tá»›i -->
                <VBox spacing="14" styleClass="widget">
                    <padding>
                        <Insets bottom="16" left="16" right="16" top="16" />
                    </padding>

                    <Label styleClass="widget-title" text="ðŸ“… Sá»± kiá»‡n sáº¯p tá»›i">
                        <font><Font name="System Bold" size="15" /></font>
                    </Label>

                    <VBox spacing="12">
                        <VBox spacing="10" styleClass="event-item">
                            <padding><Insets bottom="12" left="12" right="12" top="12" /></padding>
                            <HBox alignment="CENTER_LEFT" spacing="12">
                                <VBox alignment="CENTER" spacing="0" styleClass="event-date">
                                    <padding><Insets bottom="8" left="10" right="10" top="8" /></padding>
                                    <Label styleClass="event-day" text="28">
                                        <font><Font name="System Bold" size="20" /></font>
                                    </Label>
                                    <Label styleClass="event-month" text="Th10">
                                        <font><Font name="System Bold" size="11" /></font>
                                    </Label>
                                </VBox>
                                <VBox spacing="3" HBox.hgrow="ALWAYS">
                                    <Label styleClass="event-title" text="Há»™i tháº£o AI &amp; Future">
                                        <font><Font name="System Bold" size="13" /></font>
                                    </Label>
                                    <Label styleClass="event-time" text="â° 14:00 - 17:00">
                                        <font><Font size="12" /></font>
                                    </Label>
                                </VBox>
                            </HBox>
                            <Button styleClass="event-btn" text="Quan tÃ¢m">
                                <font><Font name="System Bold" size="13" /></font>
                            </Button>
                        </VBox>

                        <VBox spacing="10" styleClass="event-item">
                            <padding><Insets bottom="12" left="12" right="12" top="12" /></padding>
                            <HBox alignment="CENTER_LEFT" spacing="12">
                                <VBox alignment="CENTER" spacing="0" styleClass="event-date">
                                    <padding><Insets bottom="8" left="10" right="10" top="8" /></padding>
                                    <Label styleClass="event-day" text="30">
                                        <font><Font name="System Bold" size="20" /></font>
                                    </Label>
                                    <Label styleClass="event-month" text="Th10">
                                        <font><Font name="System Bold" size="11" /></font>
                                    </Label>
                                </VBox>
                                <VBox spacing="3" HBox.hgrow="ALWAYS">
                                    <Label styleClass="event-title" text="Workshop JavaFX">
                                        <font><Font name="System Bold" size="13" /></font>
                                    </Label>
                                    <Label styleClass="event-time" text="â° 09:00 - 12:00">
                                        <font><Font size="12" /></font>
                                    </Label>
                                </VBox>
                            </HBox>
                            <Button styleClass="event-btn-primary" text="Tham gia">
                                <font><Font name="System Bold" size="13" /></font>
                            </Button>
                        </VBox>
                    </VBox>
                </VBox>
            </VBox>
        </ScrollPane>
    </right>

</BorderPane>
